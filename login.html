<!doctype html>
<html lang="no">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Logg inn — Bian Analytics</title>
  <meta name="description" content="Demo-innlogging for Bian Analytics." />
  <meta name="color-scheme" content="light">
  <link rel="icon" href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 128 128'%3E%3Crect width='128' height='128' rx='28' fill='%232563eb'/%3E%3Ctext x='50%25' y='50%25' dominant-baseline='central' text-anchor='middle' font-size='76' font-family='Arial,Helvetica,sans-serif' fill='white'%3EB%3C/text%3E%3C/svg%3E" />
  <style>
    :root{--brand-600:#1f4fcc;--brand-700:#1e3a8a;--ink:#0b1220;--muted:#f5f7fb;--border:#e5e7eb;--shadow:0 10px 28px rgba(2,6,23,.06);--ring:0 0 0 3px rgba(31,79,204,.24)}
    *{box-sizing:border-box}
    body{margin:0;font-family:ui-sans-serif,system-ui,-apple-system,Segoe UI,Inter,Roboto,Arial,sans-serif;color:var(--ink);background:
      radial-gradient(600px 240px at 10% -10%,rgba(31,79,204,.06),transparent 70%), #fff}
    a{color:var(--ink);text-decoration:underline;text-underline-offset:3px}
    a:hover{color:var(--brand-600)}
    .container{max-width:420px;margin:clamp(40px,8vh,96px) auto;padding:0 20px}
    .brand{display:flex;gap:.6rem;align-items:center;justify-content:center;margin-bottom:18px;text-decoration:none;color:var(--ink);font-weight:800}
    .logo{width:40px;height:40px;border-radius:14px;background:linear-gradient(180deg,var(--brand-600),var(--brand-700));display:grid;place-items:center;color:#fff;box-shadow:var(--shadow)}
    h1{margin:8px 0 4px;font-size:28px;letter-spacing:-.01em}
    p.lead{margin:0 0 16px;color:#374151}
    .card{border:1px solid var(--border);border-radius:16px;box-shadow:var(--shadow);background:#fff;padding:18px}
    label{display:block;margin:10px 0 6px;font-weight:600}
    .row{position:relative}
    input[type="email"],input[type="password"]{width:100%;padding:14px 44px 14px 14px;border-radius:12px;border:1px solid var(--border);outline:none}
    input:focus{box-shadow:var(--ring)}
    .toggle-pass{position:absolute;right:10px;top:36px;border:1px solid var(--border);border-radius:10px;background:#fff;padding:6px 10px;cursor:pointer}
    .actions{display:flex;gap:10px;align-items:center;justify-content:space-between;margin-top:14px}
    .btn{appearance:none;border:1px solid var(--border);border-radius:999px;padding:11px 16px;font-weight:700;background:#fff;cursor:pointer;box-shadow:0 1px 2px rgba(2,6,23,.06);text-decoration:none;color:var(--ink)}
    .btn.primary{background:var(--brand-600);border-color:transparent;color:#fff}
    .error{margin-top:10px;color:#b00020;font-size:14px;display:none}
    .success{display:none;margin-top:12px;padding:10px 14px;border-radius:10px;background:#eef6ff}
    /* Skip-link (skjult til fokus) */
    .skip-link{position:absolute;left:12px;top:8px;padding:10px 14px;border-radius:12px;background:#0b1220;color:#fff;text-decoration:none;box-shadow:var(--shadow);transform:translateY(-160%);transition:transform .12s ease;z-index:1000}
    .skip-link:focus,.skip-link:focus-visible{transform:translateY(0)}
  </style>
</head>
<body>
  <a class="skip-link" href="#main">Hopp til innhold</a>

  <main id="main" class="container" aria-labelledby="login-title">
    <a class="brand" href="index.html"><div class="logo">B</div><span>Bian Analytics</span></a>
    <h1 id="login-title">Logg inn</h1>
    <p class="lead">Bruk demo-brukeren under for å logge inn.</p>

    <form id="login-form" class="card" novalidate>
      <div class="row">
        <label for="email">E-post</label>
        <input id="email" name="email" type="email" placeholder="test@gressholmen.no" autocomplete="email" required>
      </div>

      <div class="row">
        <label for="pass">Passord</label>
        <input id="pass" name="pass" type="password" placeholder="Test123" autocomplete="current-password" required>
        <button type="button" class="toggle-pass" id="toggle-pass" aria-controls="pass" aria-pressed="false">Vis</button>
      </div>

      <div class="actions">
        <a class="btn" href="index.html">Tilbake</a>
        <button class="btn primary" type="submit">Logg inn</button>
      </div>

      <div id="error" class="error" role="alert"></div>
      <div id="ok" class="success">Innlogging ok (demo). Sender deg til dashboard …</div>
    </form>
  </main>

  <script>
    // Tillat kun denne demo-kontoen
    const VALID_EMAIL = "test@gressholmen.no";
    const VALID_PASS  = "Test123";

    const $ = (s,c=document)=>c.querySelector(s);

    // Vis/skjul passord (hvis knappen finnes)
    const tp = $('#toggle-pass');
    tp && tp.addEventListener('click', (e)=>{
      const inp=$('#pass'); const isPw=inp.type==='password';
      inp.type=isPw?'text':'password';
      e.currentTarget.setAttribute('aria-pressed', String(isPw));
      e.currentTarget.textContent = isPw ? 'Skjul' : 'Vis';
    });

    // Sjekk eksakt kombinasjon og gå til dashboard
    $('#login-form').addEventListener('submit', (e)=>{
      e.preventDefault();
      const email = ($('#email').value||'').trim().toLowerCase();
      const pwd   = $('#pass').value;

      const err=$('#error'); const ok=$('#ok');
      if(err){ err.style.display='none'; err.textContent=''; }
      if(ok){ ok.style.display='none'; }

      if(email===VALID_EMAIL.toLowerCase() && pwd===VALID_PASS){
        try {
          localStorage.setItem('bian.authed','1');
          localStorage.setItem('bian.user', VALID_EMAIL);
        } catch(e){}
        // Direkte redirect til dashboard
        window.location.href = 'dashboard.html';
      } else {
        if(err){
          err.textContent = 'Feil e-post eller passord.';
          err.style.display='block';
        } else {
          alert('Feil e-post eller passord.');
        }
      }
    });
  </script>
</body>
</html>
